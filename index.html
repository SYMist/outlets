<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>아울렛 할인 캘린더</title>
  <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css' rel='stylesheet' />
  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.js'></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    #calendar { max-width: 900px; margin: 0 auto; }
    .fc-event-title { font-weight: bold; }
    .filter-bar { text-align: center; margin-bottom: 20px; }
    .filter-btn {
      background: #007bff; color: white; border: none; padding: 6px 12px;
      margin: 0 4px; border-radius: 4px; cursor: pointer;
    }
    .filter-btn.active { background: #0056b3; }
  </style>
</head>
<body>

<h1 style="text-align:center">아울렛 할인 캘린더</h1>
<div class="filter-bar">
  <button class="filter-btn active" onclick="filterEvents('ALL')">전체</button>
  <button class="filter-btn" onclick="filterEvents('송도')">송도</button>
  <button class="filter-btn" onclick="filterEvents('김포')">김포</button>
  <button class="filter-btn" onclick="filterEvents('스페이스원')">스페이스원</button>
</div>

<div id='calendar'></div>

<script>
  const rawEvents = [
    {
      title: "[송도] 올리브영 스페셜 프로모션",
      start: "2025-05-11",
      end: "2025-05-18",
      description: "최대 30% 할인 + 1:1 두피 진단 증정",
      outlet: "송도"
    },
    {
      title: "[김포] 유니클로 피크닉 위크",
      start: "2025-05-14",
      end: "2025-05-18",
      description: "정상가 49,000원 → 29,900원",
      outlet: "김포"
    },
    {
      title: "[스페이스원] 나이키 창고 개방전",
      start: "2025-05-10",
      end: "2025-05-20",
      description: "최대 60% 할인 + 추가 10% 쿠폰",
      outlet: "스페이스원"
    }
  ];

  let calendar;

  document.addEventListener('DOMContentLoaded', function () {
    const calendarEl = document.getElementById('calendar');
    calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      locale: 'ko',
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,listMonth'
      },
      events: rawEvents,
      eventClick: function(info) {
        alert(info.event.title + "\n" + info.event.extendedProps.description);
      }
    });
    calendar.render();
  });

  function filterEvents(outlet) {
    document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');

    const filtered = outlet === 'ALL'
      ? rawEvents
      : rawEvents.filter(e => e.outlet === outlet);

    calendar.removeAllEvents();
    filtered.forEach(event => calendar.addEvent(event));
  }
</script>
</body>
</html>
